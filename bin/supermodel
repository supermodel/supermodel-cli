#!/usr/bin/env node
require('../src/dotenv')
const program = require('commander')
const runInit = require('../src/commands/init')
const package = require('../package.json')

program.version(package.version)

program
  .command('schema [command]', 'Validate, compile or resolve JSON Schema YAML representation of a model.')
  .command('model [command]', 'Create and manage a model.')
  .command('login', 'Login with Supermodel.io credentials.')
  .command('signup', 'Signup to Supermodel.io app.')

program
  .command('init [layerPath]')
  .description('Initialize the supermodel directory, create directory structure to match the layerPath if provided.')
  .action((layerName) => { runInit(layerName); process.exit(0) })

program
  .command('help', 'display this help', { isDefault: true })

program
  .parse(process.argv)
