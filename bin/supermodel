#!/usr/bin/env node
require('../src/dotenv')
const program = require('commander')
const runInit = require('../src/commands/init')
const package = require('../package.json')

program.version(package.version)

program
  .command('schema [command]', 'Validate, compile or resolve JSON Schema YAML representation of a model.')
  .command('model [command]', 'Create and manage a model.')
  .command('login', 'Login with Auth0 credentials.')

program
  .command('init <baseId>')
  .description('Creates and initializes the supermodel directory.')
  .action((baseUri) => { runInit(baseUri); process.exit(0) })

program
  .command('help', 'display this help', { isDefault: true })

program
  .parse(process.argv)
